<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FedEx Login</title>
    <link rel="stylesheet" href="../css/login.css" />
  </head>
  <body>
    <div class="theme-toggle">
      <input type="checkbox" id="theme-toggle" />
      <label for="theme-toggle">
        <span class="toggle-track"><span class="toggle-thumb"></span></span>
        <span class="toggle-text">Dark mode</span>
      </label>
    </div>
    <main class="page">
      <section class="auth-card">
        <div class="panel-left">
          <img
            class="logo"
            src="../images/icons8-fedex-100.png"
            alt="FedEx logo"
          />
          <h1 class="card-title">Welcome back</h1>
          <p class="card-subtitle">
            Sign in to track shipments, manage alerts, and update delivery
            preferences.
          </p>
          <ul class="feature-list">
            <li>Real-time tracking</li>
            <li>Secure delivery notes</li>
            <li>Instant status alerts</li>
          </ul>
        </div>
        <div class="panel-right">
          <form class="form-block" action="#" method="post">
            <div class="error-banner" role="alert">
              Incorrect email or password. Please try again.
            </div>
            <label class="field">
              <span>Email address</span>
              <input
                class="input"
                type="email"
                name="email"
                placeholder="you@company.com"
                required
              />
            </label>
            <label class="field password-field">
              <span>Password</span>
              <div class="password-wrapper">
                <input
                  class="input"
                  type="password"
                  name="password"
                  placeholder="Enter your password"
                  required
                />
                <button
                  class="toggle-password"
                  type="button"
                  aria-label="Show password"
                ></button>
              </div>
            </label>
            <div class="form-row">
              <label class="check">
                <input type="checkbox" name="remember" />
                <span>Keep me signed in</span>
              </label>
              <a class="link" href="forgot-password.html">Forgot password?</a>
            </div>
            <button class="button button-primary" type="submit">Login</button>
            <p class="helper-text">
              Do not have an account?
              <a class="link" href="register.html">Register</a>
            </p>
          </form>
        </div>
      </section>
    </main>
    <script>
      const form = document.querySelector(".form-block");
      if (form) {
        form.addEventListener("submit", (event) => {
          event.preventDefault();
          form.classList.add("is-error");
        });
        form.addEventListener("input", () => {
          form.classList.remove("is-error");
        });
      }

      const toggleButtons = document.querySelectorAll(".toggle-password");
      toggleButtons.forEach((button) => {
        button.addEventListener("click", () => {
          const field = button.closest(".password-field");
          if (!field) return;
          const input = field.querySelector("input");
          if (!input) return;
          const isHidden = input.type === "password";
          input.type = isHidden ? "text" : "password";
          button.setAttribute(
            "aria-label",
            isHidden ? "Hide password" : "Show password"
          );
        });
      });

      const themeToggle = document.querySelector("#theme-toggle");
      const root = document.documentElement;
      let storedTheme = null;
      try {
        storedTheme = localStorage.getItem("theme");
      } catch (error) {
        storedTheme = null;
      }
      const prefersDark = window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;
      const initialTheme = storedTheme || (prefersDark ? "dark" : "light");
      if (storedTheme) {
        root.setAttribute("data-theme", storedTheme);
      }
      if (themeToggle) {
        themeToggle.checked = initialTheme === "dark";
        themeToggle.addEventListener("change", () => {
          const nextTheme = themeToggle.checked ? "dark" : "light";
          root.setAttribute("data-theme", nextTheme);
          try {
            localStorage.setItem("theme", nextTheme);
          } catch (error) {
            return;
          }
        });
      }
    </script>
  </body>
</html>
